{"version":3,"file":"dist/gridstack.min.js","sources":["src/gridstack.js"],"names":["factory","define","amd","jQuery","_","$","scope","window","Utils","is_intercepted","a","b","x","width","y","height","sort","nodes","dir","chain","map","node","max","value","sortBy","n","create_stylesheet","style","document","createElement","appendChild","createTextNode","head","sheet","toBool","v","toLowerCase","Boolean","id_seq","GridStackEngine","onchange","float","items","this","prototype","_fix_collisions","_sort_nodes","nn","has_locked","find","locked","collision_node","move_node","_pack_nodes","each","_updating","_orig_y","new_y","bn","_dirty","i","can_be_moved","first","_prepare_node","resizing","defaults","parseInt","auto_position","no_resize","no_move","_notify","deleted_nodes","Array","slice","call","arguments","concat","get_dirty_nodes","clean_nodes","filter","add_node","max_width","Math","min","max_height","min_width","min_height","_id","floor","push","remove_node","without","can_move_node","cloned_node","clone","extend","res","get_grid_height","can_be_placed_with_respect_to_height","no_pack","reduce","memo","begin_update","end_update","GridStack","el","opts","one_column_mode","self","container","attr","item_class","placeholder_class","handle","cell_height","vertical_margin","auto","_class","random","toFixed","animate","always_show_resize_handle","addClass","_styles","_max","grid","remove","_update_styles","elements","index","_prepare_element","set_animation","placeholder","hide","append","on_resize_handler","_is_one_column_mode","draggable","resizable","resize","rules","length","removeRule","_update_container_height","css","insertRule","data","cell_width","on_start_moving","o","ceil","outerWidth","show","on_end_moving","removeAttr","trigger","scroll","appendTo","start","stop","drag","event","ui","round","position","left","top","autoHide","handles","minHeight","minWidth","size","enable","removeClass","add_widget","will_it_fit","remove_widget","remove_all","val","movable","_update_element","callback","move","get_cell_from_pixel","containerPos","relativeLeft","relativeTop","column_width","row_height","GridStackUI","fn","gridstack"],"mappings":"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"}