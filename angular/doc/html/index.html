<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><link rel="canonical" href="https://gridstack.github.io/gridstack.js/angular/"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>GridStack Angular Library</title><meta name="description" content="Documentation for GridStack Angular Library"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="https://gridstackjs.com/" class="title">GridStack Angular Library</a><div id="tsd-toolbar-links"><a href="https://github.com/gridstack/gridstack.js">GitHub</a><a href="https://gridstackjs.com/demo/">Demo</a><a href="../../../doc/html/">Main Library</a></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>GridStack Angular Library</h1></div><div class="tsd-panel tsd-typography"><h1 id="angular-wrapper" class="tsd-anchor-link">Angular wrapper<a href="#angular-wrapper" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>The Angular <a href="modules/gridstack.component.html">wrapper component</a> <gridstack> is a <b>better way to use Gridstack</b>, but alternative raw <a href="media/ngFor.ts">ngFor</a> or <a href="media/simple.ts">simple</a> demos are also given.</p>
<p>Running version can be seen here <a href="https://stackblitz.com/edit/gridstack-angular" target="_blank" class="external">https://stackblitz.com/edit/gridstack-angular</a></p>
<h1 id="dynamic-grid-items" class="tsd-anchor-link">Dynamic grid items<a href="#dynamic-grid-items" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>this is the recommended way if you are going to have multiple grids (alow drag&amp;drop between) or drag from toolbar to create items, or drag to remove items, etc...</p>
<p>I.E. don't use Angular templating to create grid items as that is harder to sync when gridstack will also add/remove items.</p>
<p>MyComponent HTML</p>
<pre><code class="html"><span class="hl-0">&lt;</span><span class="hl-1">gridstack</span><span class="hl-2"> </span><span class="hl-3">[options]</span><span class="hl-2">=</span><span class="hl-4">&quot;gridOptions&quot;</span><span class="hl-0">&gt;&lt;/</span><span class="hl-1">gridstack</span><span class="hl-0">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>MyComponent CSS</p>
<pre><code class="css"><span class="hl-5">@import</span><span class="hl-2"> </span><span class="hl-6">&quot;gridstack/dist/gridstack.min.css&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-7">.grid-stack</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-3">background</span><span class="hl-2">: </span><span class="hl-8">#fafad2</span><span class="hl-2">;</span><br/><span class="hl-2">}</span><br/><span class="hl-7">.grid-stack-item-content</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-3">text-align</span><span class="hl-2">: </span><span class="hl-8">center</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-3">background-color</span><span class="hl-2">: </span><span class="hl-8">#18bc9c</span><span class="hl-2">;</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<p>Standalone MyComponent Code</p>
<pre><code class="ts"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-9">GridStackOptions</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-6">&#39;gridstack&#39;</span><span class="hl-2">;</span><br/><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-9">GridstackComponent</span><span class="hl-2">, </span><span class="hl-9">GridstackItemComponent</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-6">&#39;gridstack/dist/angular&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-10">Component</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-9">imports:</span><span class="hl-2"> [ </span><span class="hl-11">// SKIP if doing module import instead (next)</span><br/><span class="hl-2">    </span><span class="hl-9">GridstackComponent</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-9">GridstackItemComponent</span><br/><span class="hl-2">  ]</span><br/><span class="hl-2">  ...</span><br/><span class="hl-2"> })</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-12">class</span><span class="hl-2"> </span><span class="hl-13">MyComponent</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-11">// sample grid options + items to load...</span><br/><span class="hl-2">  </span><span class="hl-12">public</span><span class="hl-2"> </span><span class="hl-9">gridOptions</span><span class="hl-2">: </span><span class="hl-13">GridStackOptions</span><span class="hl-2"> = {</span><br/><span class="hl-2">    </span><span class="hl-9">margin:</span><span class="hl-2"> </span><span class="hl-14">5</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-9">children:</span><span class="hl-2"> [ </span><span class="hl-11">// or call load(children) or addWidget(children[0]) with same data</span><br/><span class="hl-2">      {</span><span class="hl-9">x:</span><span class="hl-14">0</span><span class="hl-2">, </span><span class="hl-9">y:</span><span class="hl-14">0</span><span class="hl-2">, </span><span class="hl-9">minW:</span><span class="hl-14">2</span><span class="hl-2">, </span><span class="hl-9">content:</span><span class="hl-6">&#39;Item 1&#39;</span><span class="hl-2">},</span><br/><span class="hl-2">      {</span><span class="hl-9">x:</span><span class="hl-14">1</span><span class="hl-2">, </span><span class="hl-9">y:</span><span class="hl-14">0</span><span class="hl-2">, </span><span class="hl-9">content:</span><span class="hl-6">&#39;Item 2&#39;</span><span class="hl-2">},</span><br/><span class="hl-2">      {</span><span class="hl-9">x:</span><span class="hl-14">0</span><span class="hl-2">, </span><span class="hl-9">y:</span><span class="hl-14">1</span><span class="hl-2">, </span><span class="hl-9">content:</span><span class="hl-6">&#39;Item 3&#39;</span><span class="hl-2">},</span><br/><span class="hl-2">    ]</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<p>IF doing module import instead of standalone, you will also need this:</p>
<pre><code class="ts"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-9">GridstackModule</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-6">&#39;gridstack/dist/angular&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">@</span><span class="hl-10">NgModule</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-9">imports:</span><span class="hl-2"> [</span><span class="hl-9">GridstackModule</span><span class="hl-2">, ...]</span><br/><span class="hl-2">  ...</span><br/><span class="hl-2">  </span><span class="hl-9">bootstrap</span><span class="hl-2">: [</span><span class="hl-9">AppComponent</span><span class="hl-2">]</span><br/><span class="hl-2">})</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-12">class</span><span class="hl-2"> </span><span class="hl-13">AppModule</span><span class="hl-2"> { }</span>
</code><button type="button">Copy</button></pre>

<h1 id="more-complete-example" class="tsd-anchor-link">More Complete example<a href="#more-complete-example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>In this example (build on previous one) will use your actual custom angular components inside each grid item (instead of dummy html content) and have per component saved settings as well (using BaseWidget).</p>
<p>HTML</p>
<pre><code class="html"><span class="hl-0">&lt;</span><span class="hl-1">gridstack</span><span class="hl-2"> </span><span class="hl-3">[options]</span><span class="hl-2">=</span><span class="hl-4">&quot;gridOptions&quot;</span><span class="hl-2"> </span><span class="hl-3">(changeCB)</span><span class="hl-2">=</span><span class="hl-4">&quot;onChange($event)&quot;</span><span class="hl-0">&gt;</span><br/><span class="hl-2">  </span><span class="hl-0">&lt;</span><span class="hl-15">div</span><span class="hl-2"> </span><span class="hl-3">empty-content</span><span class="hl-0">&gt;</span><span class="hl-2">message when grid is empty</span><span class="hl-0">&lt;/</span><span class="hl-15">div</span><span class="hl-0">&gt;</span><br/><span class="hl-0">&lt;/</span><span class="hl-1">gridstack</span><span class="hl-0">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>Code</p>
<pre><code class="ts"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-9">Component</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-6">&#39;@angular/core&#39;</span><span class="hl-2">;</span><br/><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-9">GridStack</span><span class="hl-2">, </span><span class="hl-9">GridStackOptions</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-6">&#39;gridstack&#39;</span><span class="hl-2">;</span><br/><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-9">GridstackComponent</span><span class="hl-2">, </span><span class="hl-9">gsCreateNgComponents</span><span class="hl-2">, </span><span class="hl-9">NgGridStackWidget</span><span class="hl-2">, </span><span class="hl-9">nodesCB</span><span class="hl-2">, </span><span class="hl-9">BaseWidget</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-6">&#39;gridstack/dist/angular&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-11">// some custom components</span><br/><span class="hl-2">@</span><span class="hl-10">Component</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-9">selector:</span><span class="hl-2"> </span><span class="hl-6">&#39;app-a&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-9">template:</span><span class="hl-2"> </span><span class="hl-6">&#39;Comp A {{text}}&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">})</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-12">class</span><span class="hl-2"> </span><span class="hl-13">AComponent</span><span class="hl-2"> </span><span class="hl-12">extends</span><span class="hl-2"> </span><span class="hl-13">BaseWidget</span><span class="hl-2"> </span><span class="hl-12">implements</span><span class="hl-2"> </span><span class="hl-13">OnDestroy</span><span class="hl-2"> {</span><br/><span class="hl-2">  @</span><span class="hl-10">Input</span><span class="hl-2">() </span><span class="hl-9">text</span><span class="hl-2">: </span><span class="hl-13">string</span><span class="hl-2"> = </span><span class="hl-6">&#39;foo&#39;</span><span class="hl-2">; </span><span class="hl-11">// test custom input data</span><br/><span class="hl-2">  </span><span class="hl-12">public</span><span class="hl-2"> </span><span class="hl-12">override</span><span class="hl-2"> </span><span class="hl-10">serialize</span><span class="hl-2">(): </span><span class="hl-13">NgCompInputs</span><span class="hl-2"> | </span><span class="hl-13">undefined</span><span class="hl-2">  { </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-12">this</span><span class="hl-2">.</span><span class="hl-9">text</span><span class="hl-2"> ? {</span><span class="hl-9">text:</span><span class="hl-2"> </span><span class="hl-12">this</span><span class="hl-2">.</span><span class="hl-9">text</span><span class="hl-2">} : </span><span class="hl-12">undefined</span><span class="hl-2">; }</span><br/><span class="hl-2">  </span><span class="hl-10">ngOnDestroy</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-9">console</span><span class="hl-2">.</span><span class="hl-10">log</span><span class="hl-2">(</span><span class="hl-6">&#39;Comp A destroyed&#39;</span><span class="hl-2">); </span><span class="hl-11">// test to make sure cleanup happens</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-2">@</span><span class="hl-10">Component</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-9">selector:</span><span class="hl-2"> </span><span class="hl-6">&#39;app-b&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-9">template:</span><span class="hl-2"> </span><span class="hl-6">&#39;Comp B&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">})</span><br/><span class="hl-5">export</span><span class="hl-2"> </span><span class="hl-12">class</span><span class="hl-2"> </span><span class="hl-13">BComponent</span><span class="hl-2"> </span><span class="hl-12">extends</span><span class="hl-2"> </span><span class="hl-13">BaseWidget</span><span class="hl-2"> {</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-11">// ...in your module (classic), OR your ng19 app.config provideEnvironmentInitializer call this:</span><br/><span class="hl-10">constructor</span><span class="hl-2">() {</span><br/><span class="hl-2">  </span><span class="hl-11">// register all our dynamic components types created by the grid</span><br/><span class="hl-2">  </span><span class="hl-9">GridstackComponent</span><span class="hl-2">.</span><span class="hl-10">addComponentToSelectorType</span><span class="hl-2">([</span><span class="hl-9">AComponent</span><span class="hl-2">, </span><span class="hl-9">BComponent</span><span class="hl-2">]) ;</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-11">// now our content will use Components instead of dummy html content</span><br/><span class="hl-9">public</span><span class="hl-2"> </span><span class="hl-16">gridOptions</span><span class="hl-2">: </span><span class="hl-9">NgGridStackOptions</span><span class="hl-2"> = {</span><br/><span class="hl-2">  </span><span class="hl-9">margin:</span><span class="hl-2"> </span><span class="hl-14">5</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-9">minRow:</span><span class="hl-2"> </span><span class="hl-14">1</span><span class="hl-2">, </span><span class="hl-11">// make space for empty message</span><br/><span class="hl-2">  </span><span class="hl-9">children:</span><span class="hl-2"> [ </span><span class="hl-11">// or call load()/addWidget() with same data</span><br/><span class="hl-2">    {</span><span class="hl-9">x:</span><span class="hl-14">0</span><span class="hl-2">, </span><span class="hl-9">y:</span><span class="hl-14">0</span><span class="hl-2">, </span><span class="hl-9">minW:</span><span class="hl-14">2</span><span class="hl-2">, </span><span class="hl-9">selector:</span><span class="hl-6">&#39;app-a&#39;</span><span class="hl-2">},</span><br/><span class="hl-2">    {</span><span class="hl-9">x:</span><span class="hl-14">1</span><span class="hl-2">, </span><span class="hl-9">y:</span><span class="hl-14">0</span><span class="hl-2">, </span><span class="hl-9">minW:</span><span class="hl-14">2</span><span class="hl-2">, </span><span class="hl-9">selector:</span><span class="hl-6">&#39;app-a&#39;</span><span class="hl-2">, </span><span class="hl-9">input:</span><span class="hl-2"> { </span><span class="hl-9">text:</span><span class="hl-2"> </span><span class="hl-6">&#39;bar&#39;</span><span class="hl-2"> }}, </span><span class="hl-11">// custom input that works using BaseWidget.deserialize() Object.assign(this, w.input)</span><br/><span class="hl-2">    {</span><span class="hl-9">x:</span><span class="hl-14">2</span><span class="hl-2">, </span><span class="hl-9">y:</span><span class="hl-14">0</span><span class="hl-2">, </span><span class="hl-9">selector:</span><span class="hl-6">&#39;app-b&#39;</span><span class="hl-2">},</span><br/><span class="hl-2">    {</span><span class="hl-9">x:</span><span class="hl-14">3</span><span class="hl-2">, </span><span class="hl-9">y:</span><span class="hl-14">0</span><span class="hl-2">, </span><span class="hl-9">content:</span><span class="hl-6">&#39;plain html&#39;</span><span class="hl-2">},</span><br/><span class="hl-2">  ]</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-11">// called whenever items change size/position/etc.. see other events</span><br/><span class="hl-9">public</span><span class="hl-2"> </span><span class="hl-10">onChange</span><span class="hl-2">(</span><span class="hl-9">data</span><span class="hl-2">: </span><span class="hl-9">nodesCB</span><span class="hl-2">) {</span><br/><span class="hl-2">  </span><span class="hl-9">console</span><span class="hl-2">.</span><span class="hl-10">log</span><span class="hl-2">(</span><span class="hl-6">&#39;change &#39;</span><span class="hl-2">, </span><span class="hl-9">data</span><span class="hl-2">.</span><span class="hl-9">nodes</span><span class="hl-2">.</span><span class="hl-9">length</span><span class="hl-2"> &gt; </span><span class="hl-14">1</span><span class="hl-2"> ? </span><span class="hl-9">data</span><span class="hl-2">.</span><span class="hl-9">nodes</span><span class="hl-2"> : </span><span class="hl-9">data</span><span class="hl-2">.</span><span class="hl-9">nodes</span><span class="hl-2">[</span><span class="hl-14">0</span><span class="hl-2">]);</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<h1 id="ngfor-with-wrapper" class="tsd-anchor-link">ngFor with wrapper<a href="#ngfor-with-wrapper" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>For simple case where you control the children creation (gridstack doesn't do create or re-parenting)</p>
<p>HTML</p>
<pre><code class="html"><span class="hl-0">&lt;</span><span class="hl-1">gridstack</span><span class="hl-2"> </span><span class="hl-3">[options]</span><span class="hl-2">=</span><span class="hl-4">&quot;gridOptions&quot;</span><span class="hl-2"> </span><span class="hl-3">(changeCB)</span><span class="hl-2">=</span><span class="hl-4">&quot;onChange($event)&quot;</span><span class="hl-0">&gt;</span><br/><span class="hl-2">  </span><span class="hl-11">&lt;!-- Angular 17+ --&gt;</span><br/><span class="hl-2">   @for (n of items; track n.id) {</span><br/><span class="hl-2">    </span><span class="hl-0">&lt;</span><span class="hl-15">gridstack-item</span><span class="hl-2"> </span><span class="hl-3">[options]</span><span class="hl-2">=</span><span class="hl-4">&quot;n&quot;</span><span class="hl-0">&gt;</span><span class="hl-2">Item {{n.id}}</span><span class="hl-0">&lt;/</span><span class="hl-15">gridstack-item</span><span class="hl-0">&gt;</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">  </span><span class="hl-11">&lt;!-- Angular 16 --&gt;</span><br/><span class="hl-2">  </span><span class="hl-0">&lt;</span><span class="hl-15">gridstack-item</span><span class="hl-2"> </span><span class="hl-3">*ngFor</span><span class="hl-2">=</span><span class="hl-4">&quot;let n of items; trackBy: identify&quot;</span><span class="hl-2"> </span><span class="hl-3">[options]</span><span class="hl-2">=</span><span class="hl-4">&quot;n&quot;</span><span class="hl-0">&gt;</span><span class="hl-2"> Item {{n.id}} </span><span class="hl-0">&lt;/</span><span class="hl-15">gridstack-item</span><span class="hl-0">&gt;</span><br/><span class="hl-0">&lt;/</span><span class="hl-1">gridstack</span><span class="hl-0">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>Code</p>
<pre><code class="javascript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-9">GridStackOptions</span><span class="hl-2">, </span><span class="hl-9">GridStackWidget</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-6">&#39;gridstack&#39;</span><span class="hl-2">;</span><br/><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-9">nodesCB</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-6">&#39;gridstack/dist/angular&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-11">/** sample grid options and items to load... */</span><br/><span class="hl-9">public</span><span class="hl-2"> </span><span class="hl-16">gridOptions</span><span class="hl-2">: </span><span class="hl-9">GridStackOptions</span><span class="hl-2"> = { </span><span class="hl-9">margin:</span><span class="hl-2"> </span><span class="hl-14">5</span><span class="hl-2"> }</span><br/><span class="hl-9">public</span><span class="hl-2"> </span><span class="hl-16">items</span><span class="hl-2">: </span><span class="hl-9">GridStackWidget</span><span class="hl-2">[] = [</span><br/><span class="hl-2">  {</span><span class="hl-9">x:</span><span class="hl-14">0</span><span class="hl-2">, </span><span class="hl-9">y:</span><span class="hl-14">0</span><span class="hl-2">, </span><span class="hl-9">minW:</span><span class="hl-14">2</span><span class="hl-2">, </span><span class="hl-9">id:</span><span class="hl-6">&#39;1&#39;</span><span class="hl-2">}, </span><span class="hl-11">// must have unique id used for trackBy</span><br/><span class="hl-2">  {</span><span class="hl-9">x:</span><span class="hl-14">1</span><span class="hl-2">, </span><span class="hl-9">y:</span><span class="hl-14">0</span><span class="hl-2">, </span><span class="hl-9">id:</span><span class="hl-6">&#39;2&#39;</span><span class="hl-2">},</span><br/><span class="hl-2">  {</span><span class="hl-9">x:</span><span class="hl-14">0</span><span class="hl-2">, </span><span class="hl-9">y:</span><span class="hl-14">1</span><span class="hl-2">, </span><span class="hl-9">id:</span><span class="hl-6">&#39;3&#39;</span><span class="hl-2">},</span><br/><span class="hl-2">];</span><br/><br/><span class="hl-11">// called whenever items change size/position/etc..</span><br/><span class="hl-9">public</span><span class="hl-2"> </span><span class="hl-10">onChange</span><span class="hl-2">(</span><span class="hl-9">data</span><span class="hl-2">: </span><span class="hl-9">nodesCB</span><span class="hl-2">) {</span><br/><span class="hl-2">  </span><span class="hl-9">console</span><span class="hl-2">.</span><span class="hl-10">log</span><span class="hl-2">(</span><span class="hl-6">&#39;change &#39;</span><span class="hl-2">, </span><span class="hl-9">data</span><span class="hl-2">.</span><span class="hl-9">nodes</span><span class="hl-2">.</span><span class="hl-9">length</span><span class="hl-2"> &gt; </span><span class="hl-14">1</span><span class="hl-2"> ? </span><span class="hl-9">data</span><span class="hl-2">.</span><span class="hl-9">nodes</span><span class="hl-2"> : </span><span class="hl-9">data</span><span class="hl-2">.</span><span class="hl-9">nodes</span><span class="hl-2">[</span><span class="hl-14">0</span><span class="hl-2">]);</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-11">// ngFor unique node id to have correct match between our items used and GS</span><br/><span class="hl-9">public</span><span class="hl-2"> </span><span class="hl-10">identify</span><span class="hl-2">(</span><span class="hl-9">index</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2">, </span><span class="hl-9">w</span><span class="hl-2">: </span><span class="hl-9">GridStackWidget</span><span class="hl-2">) {</span><br/><span class="hl-2">  </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-9">w</span><span class="hl-2">.</span><span class="hl-9">id</span><span class="hl-2">; </span><span class="hl-11">// or use index if no id is set and you only modify at the end...</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="demo" class="tsd-anchor-link">Demo<a href="#demo" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>You can see a fuller example at <a href="media/app.component.ts">app.component.ts</a></p>
<p>to build the demo, go to <a href="media/demo">angular/projects/demo</a> and run <code>yarn</code> + <code>yarn start</code> and navigate to <code>http://localhost:4200/</code></p>
<p>Code started shipping with v8.1.2+ in <code>dist/angular</code> for people to use directly and is an angular module! (source code under <code>dist/angular/src</code>)</p>
<h2 id="caveats" class="tsd-anchor-link">Caveats<a href="#caveats" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>This wrapper needs:
<ul>
<li>gridstack v8+ to run as it needs the latest changes (use older version that matches GS versions)</li>
<li><b>Angular 14+</b> for dynamic <code>createComponent()</code> API and Standalone Components (verified against 19+)</li>
</ul>
</li>
</ul>
<p>NOTE: if you are on Angular 13 or below: copy the wrapper code over (or patch it - see main page example) and change <code>createComponent()</code> calls to use old API instead:
NOTE2: now that we're using standalone, you will also need to remove <code>standalone: true</code> and <code>imports</code> on each component so you will to copy those locally (or use &lt;11.1.2 version)</p>
<pre><code class="ts"><span class="hl-9">protected</span><span class="hl-2"> </span><span class="hl-16">resolver</span><span class="hl-2">: </span><span class="hl-9">ComponentFactoryResolver</span><span class="hl-2">,</span><br/><span class="hl-2">...</span><br/><span class="hl-12">const</span><span class="hl-2"> </span><span class="hl-17">factory</span><span class="hl-2"> = </span><span class="hl-12">this</span><span class="hl-2">.</span><span class="hl-9">resolver</span><span class="hl-2">.</span><span class="hl-10">resolveComponentFactory</span><span class="hl-2">(</span><span class="hl-9">GridItemComponent</span><span class="hl-2">);</span><br/><span class="hl-12">const</span><span class="hl-2"> </span><span class="hl-17">gridItemRef</span><span class="hl-2"> = </span><span class="hl-9">grid</span><span class="hl-2">.</span><span class="hl-9">container</span><span class="hl-2">.</span><span class="hl-10">createComponent</span><span class="hl-2">(</span><span class="hl-9">factory</span><span class="hl-2">) </span><span class="hl-5">as</span><span class="hl-2"> </span><span class="hl-13">ComponentRef</span><span class="hl-2">&lt;</span><span class="hl-13">GridItemComponent</span><span class="hl-2">&gt;;</span><br/><span class="hl-11">// ...do the same for widget selector...</span>
</code><button type="button">Copy</button></pre>

<h2 id="ngfor-caveats" class="tsd-anchor-link">ngFor Caveats<a href="#ngfor-caveats" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>This wrapper handles well ngFor loops, but if you're using a trackBy function (as I would recommend) and no element id change after an update,
you must manually update the <code>GridstackItemComponent.option</code> directly - see <a href="media/app.component.ts#L202">modifyNgFor()</a> example.</li>
<li>The original client list of items is not updated to match <strong>content</strong> changes made by gridstack (TBD later), but adding new item or removing (as shown in demo) will update those new items. Client could use change/added/removed events to sync that list if they wish to do so.</li>
</ul>
<p>Would appreciate getting help doing the same for React and Vue (2 other popular frameworks)</p>
<p>-Alain</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#angular-wrapper"><span>Angular wrapper</span></a><a href="#dynamic-grid-items"><span>Dynamic grid items</span></a><a href="#more-complete-example"><span>More <wbr/>Complete example</span></a><a href="#ngfor-with-wrapper"><span>ng<wbr/>For with wrapper</span></a><ul><li><a href="#demo"><span>Demo</span></a></li><li><a href="#caveats"><span>Caveats</span></a></li><li><a href="#ngfor-caveats"><span>ng<wbr/>For <wbr/>Caveats</span></a></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://github.com/gridstack/gridstack.js/tree/master/doc">Documentation</a><a href="README.md">Angular Guide</a><a href="https://github.com/gridstack/gridstack.js" class="tsd-nav-link">GitHub</a><a href="https://gridstackjs.com/demo/" class="tsd-nav-link">Demo</a><a href="../../../doc/html/" class="tsd-nav-link">Main Library</a></nav><nav class="tsd-navigation"><a href="modules.html">GridStack Angular Library</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
